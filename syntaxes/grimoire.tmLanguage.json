{
    "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
    "name": "Grimoire",
    "patterns": [
        {
            "include": "#comment"
        },
        {
            "include": "#import"
        },
        {
            "include": "#global-keyword"
        },
        {
            "include": "#declaration"
        },
        {
            "include": "#block"
        }
    ],
    "repository": {
        "declaration": {
            "patterns": [
                {
                    "include": "#variable-decl"
                },
                {
                    "include": "#alias-decl"
                },
                {
                    "include": "#enum-decl"
                },
                {
                    "include": "#class-decl"
                },
                {
                    "include": "#function-decl"
                },
                {
                    "include": "#task-decl"
                },
                {
                    "include": "#event-decl"
                }
            ]
        },
        "variable-decl": {
            "begin": "\\b(var|const)\\b",
            "beginCaptures": {
                "0": {
                    "name": "keyword.control.var.grimoire"
                }
            },
            "end": "(?<=;)",
            "endCaptures": {
                "0": {
                    "name": "punctuation.terminator.grimoire"
                }
            },
            "patterns": [
                {
                    "include": "#comment"
                },
                {
                    "begin": "\\:",
                    "beginCaptures": {
                        "0": {
                            "name": "punctuation.colon.grimoire"
                        }
                    },
                    "end": "\\=|\\;",
                    "endCaptures": {
                        "0": {
                            "patterns": [
                                {
                                    "match": "\\=",
                                    "name": "keyword.operator.assignement.grimoire"
                                },
                                {
                                    "match": "\\;",
                                    "name": "punctuation.terminator.grimoire"
                                }
                            ]
                        }
                    },
                    "patterns": [
                        {
                            "include": "#comment"
                        },
                        {
                            "include": "#type"
                        }
                    ]
                },
                {
                    "include": "#subexpression"
                }
            ]
        },
        "function-decl": {
            "begin": "\\b(func)\\b",
            "beginCaptures": {
                "0": {
                    "name": "keyword.control.function.grimoire"
                }
            },
            "end": "(?<=})",
            "patterns": [
                {
                    "include": "#comment"
                },
                {
                    "include": "#static-call"
                },
                {
                    "include": "#template-variable-list"
                },
                {
                    "include": "#operator"
                },
                {
                    "begin": "\\b(operator)\\b",
                    "beginCaptures": {
                        "0": {
                            "name": "variable.language.operator.grimoire"
                        }
                    },
                    "end": "(\"(\\+|\\-|\\*{1,2}|\\/|\\~|\\%|\\={2,3}|\\<\\=\\>|\\>\\=|\\>{1,2}|\\<\\=|\\<{1,2}|\\-\\>|\\=\\>|\\&{1,2}|\\|{1,2}|\\^|\\!\\=|\\!)\")",
                    "endCaptures": {
                        "0": {
                            "name": "variable.language.operator.overload.grimoire"
                        }
                    },
                    "patterns": [
                        {
                            "include": "#comment"
                        },
                        {
                            "match": ".",
                            "name": "invalid.illegal.grimoire"
                        }
                    ]
                },
                {
                    "match": "\\b(as)\\b",
                    "name": "variable.language.as.grimoire"
                },
                {
                    "include": "#where-list"
                },
                {
                    "include": "#block"
                },
                {
                    "include": "#parameter-list"
                },
                {
                    "match": "(\\.)?([_[:alpha:]][_[:alnum:]]*)",
                    "captures": {
                        "1": {
                            "name": "punctuation.accessor.grimoire"
                        },
                        "2": {
                            "name": "entity.name.function.grimoire"
                        }
                    }
                }
            ]
        },
        "task-decl": {
            "begin": "\\b(task)\\b",
            "beginCaptures": {
                "0": {
                    "name": "keyword.control.function.grimoire"
                }
            },
            "end": "(?<=})",
            "patterns": [
                {
                    "include": "#comment"
                },
                {
                    "include": "#template-variable-list"
                },
                {
                    "include": "#where-list"
                },
                {
                    "include": "#block"
                },
                {
                    "include": "#parameter-list"
                },
                {
                    "match": "[_[:alpha:]][_[:alnum:]]*",
                    "name": "entity.name.function.grimoire"
                }
            ]
        },
        "event-decl": {
            "begin": "\\b(event)\\b",
            "beginCaptures": {
                "0": {
                    "name": "keyword.control.function.grimoire"
                }
            },
            "end": "(?<=})",
            "patterns": [
                {
                    "include": "#comment"
                },
                {
                    "include": "#block"
                },
                {
                    "include": "#parameter-list"
                },
                {
                    "match": "[_[:alpha:]][_[:alnum:]]*",
                    "name": "entity.name.function.grimoire"
                }
            ]
        },
        "parameter-list": {
            "patterns": [
                {
                    "begin": "(?<=([_[:alnum:]]|\\>|\"))\\s*\\(",
                    "beginCaptures": {
                        "0": {
                            "name": "punctuation.parenthesis.open.grimoire"
                        }
                    },
                    "end": "\\)",
                    "endCaptures": {
                        "0": {
                            "name": "punctuation.parenthesis.close.grimoire"
                        }
                    },
                    "patterns": [
                        {
                            "include": "#comment"
                        },
                        {
                            "begin": "([_[:alpha:]][_[:alnum:]]*)\\s*(\\:)",
                            "beginCaptures": {
                                "1": {
                                    "name": "variable.parameter.grimoire"
                                },
                                "2": {
                                    "name": "punctuation.colon.grimoire"
                                }
                            },
                            "end": "(?=\\,)|(?=\\))",
                            "patterns": [
                                {
                                    "include": "#comment"
                                },
                                {
                                    "include": "#type"
                                }
                            ]
                        },
                        {
                            "include": "#comma"
                        }
                    ]
                },
                {
                    "begin": "(?<=\\))\\s*\\(",
                    "beginCaptures": {
                        "0": {
                            "name": "punctuation.parenthesis.open.grimoire"
                        }
                    },
                    "end": "\\)",
                    "endCaptures": {
                        "0": {
                            "name": "punctuation.parenthesis.close.grimoire"
                        }
                    },
                    "patterns": [
                        {
                            "include": "#comment"
                        },
                        {
                            "include": "#comma"
                        },
                        {
                            "include": "#type"
                        }
                    ]
                }
            ]
        },
        "anonymous-parameter-list": {
            "patterns": [
                {
                    "begin": "(?<=\\b(func|task|event)\\b)\\s*\\(",
                    "beginCaptures": {
                        "0": {
                            "name": "punctuation.parenthesis.open.grimoire"
                        }
                    },
                    "end": "\\)",
                    "endCaptures": {
                        "0": {
                            "name": "punctuation.parenthesis.close.grimoire"
                        }
                    },
                    "patterns": [
                        {
                            "include": "#comment"
                        },
                        {
                            "begin": "([_[:alpha:]][_[:alnum:]]*)\\s*(\\:)",
                            "beginCaptures": {
                                "1": {
                                    "name": "variable.parameter.grimoire"
                                },
                                "2": {
                                    "name": "punctuation.colon.grimoire"
                                }
                            },
                            "end": "(?=\\,)|(?=\\))",
                            "patterns": [
                                {
                                    "include": "#comment"
                                },
                                {
                                    "include": "#type"
                                }
                            ]
                        },
                        {
                            "include": "#comma"
                        }
                    ]
                },
                {
                    "begin": "(?<=\\))\\s*\\(",
                    "beginCaptures": {
                        "0": {
                            "name": "punctuation.parenthesis.open.grimoire"
                        }
                    },
                    "end": "\\)",
                    "endCaptures": {
                        "0": {
                            "name": "punctuation.parenthesis.close.grimoire"
                        }
                    },
                    "patterns": [
                        {
                            "include": "#comment"
                        },
                        {
                            "include": "#comma"
                        },
                        {
                            "include": "#type"
                        }
                    ]
                }
            ]
        },
        "template-variable-list": {
            "begin": "\\<",
            "beginCaptures": {
                "0": {
                    "name": "punctuation.bracket.angle.open.grimoire"
                }
            },
            "end": "\\>",
            "endCaptures": {
                "0": {
                    "name": "punctuation.bracket.angle.close.grimoire"
                }
            },
            "patterns": [
                {
                    "include": "#comment"
                },
                {
                    "name": "entity.name.type.grimoire",
                    "match": "[_[:alpha:]][_[:alnum:]]*"
                },
                {
                    "include": "#comma"
                }
            ]
        },
        "template-list": {
            "begin": "\\<",
            "beginCaptures": {
                "0": {
                    "name": "punctuation.bracket.angle.open.grimoire"
                }
            },
            "end": "\\>",
            "endCaptures": {
                "0": {
                    "name": "punctuation.bracket.angle.close.grimoire"
                }
            },
            "patterns": [
                {
                    "include": "#comment"
                },
                {
                    "include": "#type"
                },
                {
                    "include": "#comma"
                }
            ]
        },
        "where-list": {
            "begin": "\\b(where)\\b",
            "beginCaptures": {
                "0": {
                    "name": "keyword.control.where.grimoire"
                }
            },
            "end": "(?={)",
            "patterns": [
                {
                    "include": "#comment"
                },
                {
                    "include": "#template-list"
                },
                {
                    "include": "#support-constraint"
                },
                {
                    "match": "[_[:alpha:]][_[:alnum:]]*",
                    "name": "variable.parameter.grimoire"
                },
                {
                    "include": "#comma"
                },
                {
                    "match": "\\:",
                    "name": "punctuation.colon.grimoire"
                }
            ]
        },
        "global-keyword": {
            "match": "\\b(public)\\b",
            "name": "storage.modifier.grimoire"
        },
        "type": {
            "patterns": [
                {
                    "match": "\\b(pure)\\b",
                    "name": "storage.modifier.pure.grimoire"
                },
                {
                    "match": "\\?",
                    "name": "keyword.operator.arithmetic.grimoire"
                },
                {
                    "match": "\\b(int|real|bool|string)\\b",
                    "name": "storage.type.grimoire"
                },
                {
                    "begin": "\\b(list)\\b",
                    "beginCaptures": {
                        "0": {
                            "name": "storage.type.grimoire"
                        }
                    },
                    "end": "(?<=\\>)",
                    "patterns": [
                        {
                            "include": "#comment"
                        },
                        {
                            "begin": "\\<",
                            "beginCaptures": {
                                "0": {
                                    "name": "punctuation.bracket.open.grimoire"
                                }
                            },
                            "end": "\\>",
                            "endCaptures": {
                                "0": {
                                    "name": "punctuation.bracket.close.grimoire"
                                }
                            },
                            "patterns": [
                                {
                                    "include": "#comment"
                                },
                                {
                                    "include": "#type"
                                }
                            ]
                        }
                    ]
                },
                {
                    "begin": "\\b(channel)\\b",
                    "beginCaptures": {
                        "0": {
                            "name": "storage.type.grimoire"
                        }
                    },
                    "end": "(?<=\\>)",
                    "patterns": [
                        {
                            "include": "#comment"
                        },
                        {
                            "begin": "\\<",
                            "beginCaptures": {
                                "0": {
                                    "name": "punctuation.bracket.angle.open.grimoire"
                                }
                            },
                            "end": "\\>",
                            "endCaptures": {
                                "0": {
                                    "name": "punctuation.bracket.angle.close.grimoire"
                                }
                            },
                            "patterns": [
                                {
                                    "include": "#comment"
                                },
                                {
                                    "include": "#type"
                                }
                            ]
                        }
                    ]
                },
                {
                    "begin": "\\b(task|function)\\b\\s*(?=\\()",
                    "beginCaptures": {
                        "0": {
                            "name": "storage.type.grimoire"
                        }
                    },
                    "end": "(?<=\\))",
                    "patterns": [
                        {
                            "include": "#comment"
                        },
                        {
                            "begin": "\\(",
                            "beginCaptures": {
                                "0": {
                                    "name": "punctuation.parenthesis.open.grimoire"
                                }
                            },
                            "end": "\\)",
                            "endCaptures": {
                                "0": {
                                    "name": "punctuation.parenthesis.close.grimoire"
                                }
                            },
                            "patterns": [
                                {
                                    "include": "#comment"
                                },
                                {
                                    "include": "#type"
                                },
                                {
                                    "match": ",",
                                    "name": "punctuation.comma.grimoire"
                                }
                            ]
                        }
                    ]
                },
                {
                    "begin": "([_[:alpha:]][_[:alnum:]]*)\\s*(\\<)",
                    "beginCaptures": {
                        "1": {
                            "name": "entity.name.type.grimoire"
                        },
                        "2": {
                            "name": "punctuation.bracket.angle.open.grimoire"
                        }
                    },
                    "end": "\\>",
                    "endCaptures": {
                        "0": {
                            "name": "punctuation.bracket.angle.close.grimoire"
                        }
                    },
                    "patterns": [
                        {
                            "include": "#comment"
                        },
                        {
                            "include": "#type"
                        }
                    ]
                },
                {
                    "match": "[_[:alpha:]][_[:alnum:]]*",
                    "name": "entity.name.type.grimoire"
                }
            ]
        },
        "block": {
            "patterns": [
                {
                    "name": "meta.block.grimoire",
                    "begin": "\\{",
                    "beginCaptures": {
                        "0": {
                            "name": "punctuation.curlybrace.open.grimoire"
                        }
                    },
                    "end": "\\}",
                    "endCaptures": {
                        "0": {
                            "name": "punctuation.curlybrace.close.grimoire"
                        }
                    },
                    "patterns": [
                        {
                            "include": "#block-internal"
                        }
                    ]
                }
            ]
        },
        "block-internal": {
            "patterns": [
                {
                    "include": "#block"
                },
                {
                    "include": "#expression"
                }
            ]
        },
        "import": {
            "begin": "\\b(import)\\b",
            "beginCaptures": {
                "0": {
                    "name": "keyword.control.import.grimoire"
                }
            },
            "end": "(?<=\"|})",
            "patterns": [
                {
                    "include": "#comment"
                },
                {
                    "include": "#import-string"
                },
                {
                    "begin": "{",
                    "beginCaptures": {
                        "0": {
                            "name": "punctuation.curlybrace.open.grimoire"
                        }
                    },
                    "end": "}",
                    "endCaptures": {
                        "0": {
                            "name": "punctuation.curlybrace.close.grimoire"
                        }
                    },
                    "patterns": [
                        {
                            "include": "#comment"
                        },
                        {
                            "include": "#import-string"
                        }
                    ]
                }
            ]
        },
        "class-decl": {
            "begin": "\\b(class)\\b",
            "beginCaptures": {
                "0": {
                    "name": "storage.type.class.grimoire"
                }
            },
            "end": "(?<=})",
            "patterns": [
                {
                    "include": "#comment"
                },
                {
                    "begin": "[_[:alpha:]][_[:alnum:]]*",
                    "beginCaptures": {
                        "0": {
                            "name": "entity.name.class.grimoire"
                        }
                    },
                    "end": "(?<={)",
                    "patterns": [
                        {
                            "include": "#comment"
                        },
                        {
                            "include": "#template-variable-list"
                        },
                        {
                            "begin": ":",
                            "beginCaptures": {
                                "0": {
                                    "name": "punctuation.separator.grimoire"
                                }
                            },
                            "end": "(?<={)",
                            "patterns": [
                                {
                                    "include": "#comment"
                                },
                                {
                                    "match": "[_[:alpha:]][_[:alnum:]]*",
                                    "name": "entity.other.inherited-class.grimoire"
                                },
                                {
                                    "include": "#template-list"
                                }
                            ]
                        }
                    ]
                },
                {
                    "include": "#template-variable-list"
                },
                {
                    "match": "[_[:alpha:]][_[:alnum:]]*",
                    "name": "entity.name.class.grimoire"
                },
                {
                    "begin": "(?<={)",
                    "beginCaptures": {
                        "0": {
                            "name": "punctuation.curlybrace.open.grimoire"
                        }
                    },
                    "end": "}",
                    "endCaptures": {
                        "0": {
                            "name": "punctuation.curlybrace.close.grimoire"
                        }
                    },
                    "patterns": [
                        {
                            "include": "#comment"
                        },
                        {
                            "begin": "(?=[_[:alpha:]])",
                            "end": ";",
                            "endCaptures": {
                                "0": {
                                    "name": "punctuation.terminator.grimoire"
                                }
                            },
                            "patterns": [
                                {
                                    "include": "#comment"
                                },
                                {
                                    "include": "#global-keyword"
                                },
                                {
                                    "include": "#type"
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        "enum-decl": {
            "begin": "\\b(enum)\\b",
            "beginCaptures": {
                "0": {
                    "name": "storage.type.enum.grimoire"
                }
            },
            "end": "(?<=})",
            "patterns": [
                {
                    "include": "#comment"
                },
                {
                    "match": "[_[:alpha:]][_[:alnum:]]*",
                    "captures": {
                        "0": {
                            "name": "entity.name.class.grimoire"
                        }
                    }
                },
                {
                    "begin": "(?<={)",
                    "beginCaptures": {
                        "0": {
                            "name": "punctuation.curlybrace.open.grimoire"
                        }
                    },
                    "end": "}",
                    "endCaptures": {
                        "0": {
                            "name": "punctuation.curlybrace.close.grimoire"
                        }
                    },
                    "patterns": [
                        {
                            "include": "#comment"
                        },
                        {
                            "begin": "[_[:alpha:]][_[:alnum:]]*",
                            "beginCaptures": {
                                "0": {
                                    "name": "entity.name.variable.enum-member.grimoire"
                                }
                            },
                            "end": ";",
                            "endCaptures": {
                                "0": {
                                    "name": "punctuation.terminator.grimoire"
                                }
                            },
                            "patterns": [
                                {
                                    "include": "#comment"
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        "alias-decl": {
            "begin": "\\b(alias)\\b\\s*([_[:alpha:]][_[:alnum:]]*)\\s*(\\:)",
            "beginCaptures": {
                "1": {
                    "name": "keyword.control.alias.grimoire"
                },
                "2": {
                    "name": "entity.name.type.alias.grimoire"
                },
                "3": {
                    "name": "punctuation.colon.grimoire"
                }
            },
            "end": "(?<=;)",
            "patterns": [
                {
                    "include": "#comment"
                },
                {
                    "include": "#type"
                }
            ]
        },
        "expression": {
            "patterns": [
                {
                    "include": "#comment"
                },
                {
                    "include": "#variable-decl"
                },
                {
                    "include": "#operator"
                },
                {
                    "include": "#punctuation"
                },
                {
                    "include": "#literal"
                },
                {
                    "include": "#statement"
                },
                {
                    "include": "#as"
                },
                {
                    "include": "#call"
                },
                {
                    "include": "#field"
                },
                {
                    "include": "#identifier"
                }
            ]
        },
        "subexpression": {
            "patterns": [
                {
                    "include": "#comment"
                },
                {
                    "include": "#operator"
                },
                {
                    "include": "#comma"
                },
                {
                    "include": "#literal"
                },
                {
                    "include": "#as"
                },
                {
                    "include": "#call"
                },
                {
                    "include": "#field"
                },
                {
                    "include": "#identifier"
                }
            ]
        },
        "statement": {
            "name": "keyword.control.grimoire",
            "match": "\\b(if|unless|else|switch|select|case|default|while|until|do|loop|for|return|die|exit|yield|break|continue|try|catch|throw|defer)\\b"
        },
        "as": {
            "name": "keyword.control.grimoire",
            "match": "\\b(as)\\b"
        },
        "operator": {
            "patterns": [
                {
                    "name": "keyword.operator.arithmetic.grimoire",
                    "match": "<<|>>|=>|->|<-"
                },
                {
                    "name": "keyword.operator.logical.grimoire",
                    "match": "<=>|===|==|!=|\\>=|\\<=|\\>|\\<"
                },
                {
                    "name": "keyword.operator.assignement.grimoire",
                    "match": "\\+=|-=|\\*=|\/=|%=|\\^=|~=|\\?\\?=|="
                },
                {
                    "name": "keyword.operator.arithmetic.grimoire",
                    "match": "\\+\\+|\\+|--|-|\\*|\/|%|\\^|\\?\\?|\\?"
                },
                {
                    "name": "keyword.operator.word.grimoire",
                    "match": "\\b(and|or|not|to|bit_and|bit_or|bit_not|bit_xor)\\b"
                }
            ]
        },
        "punctuation": {
            "patterns": [
                {
                    "include": "#comma"
                },
                {
                    "include": "#semicolon"
                }
            ]
        },
        "call": {
            "patterns": [
                {
                    "include": "#static-call"
                },
                {
                    "include": "#method-call"
                },
                {
                    "include": "#function-call"
                }
            ]
        },
        "static-call": {
            "patterns": [
                {
                    "begin": "(@)\\s*([_[:alpha:]][_[:alnum:]]*)\\s*(\\<)",
                    "beginCaptures": {
                        "1": {
                            "name": "keyword.operator.static.grimoire"
                        },
                        "2": {
                            "name": "entity.name.type.grimoire"
                        },
                        "3": {
                            "name": "punctuation.bracket.angle.open.grimoire"
                        }
                    },
                    "end": "\\>",
                    "endCaptures": {
                        "0": {
                            "name": "punctuation.bracket.angle.close.grimoire"
                        }
                    },
                    "patterns": [
                        {
                            "include": "#comment"
                        },
                        {
                            "include": "#type"
                        }
                    ]
                },
                {
                    "match": "(@)\\s*([_[:alpha:]][_[:alnum:]]*)",
                    "captures": {
                        "1": {
                            "name": "keyword.operator.static.grimoire"
                        },
                        "2": {
                            "name": "entity.name.type.grimoire"
                        }
                    }
                }
            ]
        },
        "function-call": {
            "match": "[_[:alpha:]][_[:alnum:]]*(?=\\s*\\()",
            "captures": {
                "0": {
                    "patterns": [
                        {
                            "include": "#support-function"
                        },
                        {
                            "name": "entity.name.function.grimoire",
                            "match": "([_[:alpha:]][_[:alnum:]]*)"
                        }
                    ]
                }
            }
        },
        "field": {
            "match": "(\\.)\\s*(\\?)?\\s*([_[:alpha:]][_[:alnum:]]*)",
            "captures": {
                "1": {
                    "name": "punctuation.accessor.grimoire"
                },
                "2": {
                    "name": "punctuation.accessor.grimoire"
                },
                "3": {
                    "name": "variable.other.grimoire"
                }
            }
        },
        "method-call": {
            "match": "(:)\\s*(\\?)?\\s*([_[:alpha:]][_[:alnum:]]*)",
            "captures": {
                "0": {
                    "name": "punctuation.accessor.grimoire"
                },
                "2": {
                    "name": "punctuation.accessor.grimoire"
                },
                "3": {
                    "name": "entity.name.function.grimoire"
                }
            }
        },
        "import-string": {
            "name": "variable.parameter.import.grimoire",
            "begin": "\"",
            "end": "\"",
            "patterns": [
                {
                    "name": "constant.character.escape.grimoire",
                    "match": "\\\\."
                }
            ]
        },
        "string": {
            "name": "string.quoted.double.grimoire",
            "begin": "\"",
            "end": "\"",
            "patterns": [
                {
                    "name": "constant.character.escape.grimoire",
                    "match": "\\\\."
                }
            ]
        },
        "identifier": {
            "name": "entity.name.grimoire",
            "match": "[_[:alpha:]][_[:alnum:]]*"
        },
        "literal": {
            "patterns": [
                {
                    "include": "#anonymous"
                },
                {
                    "include": "#numeric"
                },
                {
                    "include": "#string"
                },
                {
                    "name": "variable.language.grimoire",
                    "match": "\\b(self)\\b"
                },
                {
                    "begin": "\\b(null)\\b\\s*(\\<)",
                    "beginCaptures": {
                        "1": {
                            "name": "constant.language.grimoire"
                        },
                        "2": {
                            "name": "punctuation.bracket.angle.open.grimoire"
                        }
                    },
                    "end": "\\>",
                    "endCaptures": {
                        "0": {
                            "name": "punctuation.bracket.angle.close.grimoire"
                        }
                    },
                    "patterns": [
                        {
                            "include": "#comment"
                        },
                        {
                            "include": "#type"
                        }
                    ]
                },
                {
                    "name": "constant.language.grimoire",
                    "match": "\\b(true|false|null)\\b"
                }
            ]
        },
        "anonymous": {
            "begin": "\\b(func|task|event)\\b",
            "beginCaptures": {
                "0": {
                    "name": "keyword.control.function.grimoire"
                }
            },
            "end": "(?<=})",
            "patterns": [
                {
                    "include": "#comment"
                },
                {
                    "include": "#block"
                },
                {
                    "include": "#anonymous-parameter-list"
                }
            ]
        },
        "numeric": {
            "patterns": [
                {
                    "name": "constant.numeric.float.grimoire",
                    "match": "([0-9]+[0-9_]*)(\\.[0-9]+)f?"
                },
                {
                    "name": "constant.numeric.float.grimoire",
                    "match": "([0-9][0-9_]*)f"
                },
                {
                    "name": "constant.numeric.float.grimoire",
                    "match": "([0-9][0-9_]*)\\.f?"
                },
                {
                    "name": "constant.numeric.float.grimoire",
                    "match": "\\.([0-9][0-9_]*)f?"
                },
                {
                    "name": "constant.numeric.integer.grimoire",
                    "match": "([0-9][0-9_]*)"
                }
            ]
        },
        "comment": {
            "patterns": [
                {
                    "name": "comment.line.double-slash.grimoire",
                    "match": "\/\/.*"
                },
                {
                    "include": "#comment-multilines"
                }
            ]
        },
        "comment-multilines": {
            "name": "comment.block.grimoire",
            "begin": "\/\\*",
            "end": "\\*\/",
            "patterns": [
                {
                    "include": "#comment-multilines"
                }
            ]
        },
        "comma": {
            "match": ",",
            "name": "punctuation.separator.comma.grimoire"
        },
        "semicolon": {
            "match": ";",
            "name": "punctuation.terminator.grimoire"
        },
        "support-constraint": {
            "patterns": [
                {
                    "match": "\\b(Register|Enum|Channel|Function|Task|Callable|Class|Foreign|Numeric|NotNullable|Nullable|Is|Not|Base|Extends)\\b",
                    "name": "storage.type.grimoire"
                }
            ]
        },
        "support-constant": {
            "patterns": [
                {
                    "name": "support.variable.grimoire",
                    "match": "\\b(PI)\\b"
                }
            ]
        },
        "support-type": {
            "patterns": [
                {
                    "name": "support.class.grimoire",
                    "match": "\\b(ArrayIterator|StringIterator|RangeIterator)\\b"
                },
                {
                    "name": "support.class.grimoire",
                    "match": "\\b(HashMap|HashMapIterator|Queue|QueueIterator)\\b"
                },
                {
                    "name": "support.class.grimoire",
                    "match": "\\b(dynamic|pair|color|vec2|vec3|mat3|mat4|quat)\\b"
                },
                {
                    "name": "support.class.grimoire",
                    "match": "\\b(Entity|Light|Model|Quad)\\b"
                },
                {
                    "name": "support.class.grimoire",
                    "match": "\\b(UIElement|Label|VContainer|HContainer)\\b"
                }
            ]
        },
        "support-function": {
            "patterns": [
                {
                    "name": "support.function.grimoire",
                    "match": "\\b(swap|cond|some|expect|unwrap|unwrapOr|typeOf|assert|range|unpack|print|each|next|copy)\\b"
                },
                {
                    "name": "support.function.grimoire",
                    "match": "\\b(time|wait|sleep|seconds|minutes|hours)\\b"
                },
                {
                    "name": "support.function.grimoire",
                    "match": "\\b(size|isEmpty|isFull|fill|clear|unshift|push|shift|pop|first|last|remove|slice|reverse|insert|sort|indexOf|lastIndexOf|contains)\\b"
                },
                {
                    "name": "support.function.grimoire",
                    "match": "\\b(capacity)\\b"
                },
                {
                    "name": "support.function.grimoire",
                    "match": "\\b(set|get|keys|values)\\b"
                },
                {
                    "name": "support.function.grimoire",
                    "match": "\\b(min|max|clamp|rand|deg|rad|cos|sin|tan|acos|asin|atan|atan2|exp|log|log2|log10|sqrt|lerp|rlerp|abs|floor|ceil|round|truncate|isNaN|approach)\\b"
                },
                {
                    "name": "support.function.grimoire",
                    "match": "\\b(vec2_zero|vec2_half|vec2_one|vec2_up|vec2_down|vec2_left|vec2_right|vec3_zero|vec3_half|vec3_one|vec3_up|vec3_down|vec3_left|vec3_right|sum|sign|reflect|refract|distance|distance2|dot|cross|normal|angle|rotate|rotated|vec2_angled|magnitude|magnitude2|normalize|normalized)\\b"
                },
                {
                    "name": "support.function.grimoire",
                    "match": "\\b(position|draw)\\b"
                }
            ]
        }
    },
    "scopeName": "source.grimoire"
}